1. Quick Review: Elastic Load Balancers

ELB distributes traffic across multiple targets (EC2, IPs, Lambda)

Enables:

High availability

Fault tolerance

Auto Scaling

Uses health checks â†’ traffic only to healthy targets

Modern Load Balancers (Exam Relevant)

ALB (Application Load Balancer) â†’ Layer 7 (HTTP/HTTPS)

NLB (Network Load Balancer) â†’ Layer 4 (TCP/UDP/TLS)

GWLB (Gateway Load Balancer) â†’ Layer 3 (security appliances)

CLB â†’ legacy (ignore for exam unless explicitly mentioned)

2. What is Stickiness (Session Affinity)?

Stickiness ensures that requests from the same client are sent to the same target

Mainly used with Application Load Balancer

Implemented using cookies

ğŸ“Œ Why needed?

Applications that maintain session state, e.g.:

Shopping carts

Login sessions

Multi-step forms

3. How ALB Sticky Sessions Work

Client sends HTTP request to ALB

ALB forwards request to a target

ALB generates a cookie: AWSALB

Cookie is returned to client

On subsequent requests:

Client sends cookie

ALB routes request to same target

If the target:

Becomes unhealthy

Is deregistered

â¡ ALB selects a new target and updates the cookie

4. Sticky Sessions Without vs With Stickiness
âŒ Without Stickiness

Requests can hit any instance

Session state may be lost

âœ… With Stickiness

Client remains bound to one instance

Session state preserved

5. Sticky Session Configuration

Enabled at the target group level

You configure:

Stickiness ON

Cookie duration (seconds)

Cookie Duration Logic

Duration is refreshed on every request

If client sends a request before expiry â†’ session continues

Example:

1-hour stickiness

User interacts every 20 minutes

Session never expires

6. Cookies Used by ALB (VERY IMPORTANT)
Primary Cookie

AWSALB

Generated by ALB

Encrypted

Cannot be read or modified

CORS / SameSite Scenario

Some browsers require: SameSite=None; Secure

ALB generates an additional cookie:

AWSALBCORS

Client receives both cookies

ğŸ“Œ Exam Tip:
ğŸ‘‰ ALB may use two cookies: AWSALB and AWSALBCORS

7. Key Exam Restrictions & Edge Cases
ğŸ”’ Cookie Rules

ALB supports ONLY load-balancer generated cookies

Application-generated cookies are NOT supported

Cookies:

Encrypted

Rotating keys

Not URL-encoded

âš ï¸ Multiple ALB Layers

Stickiness can be enabled on only one ALB layer

Reason:

Same cookie name (AWSALB)

ğŸ”€ Forward Actions

If listener rule forwards to multiple target groups

And one or more uses stickiness:

You must enable target group stickiness

ğŸŒ WebSockets

WebSocket connections are inherently sticky

Once HTTP 101 upgrade occurs:

Cookie-based stickiness is not used

ğŸª Cookie Attributes

ALB uses:

Expires attribute

âŒ Not Max-Age

8. One-Line Exam Summary

ALB sticky sessions use ALB-generated cookies (AWSALB / AWSALBCORS) to route a clientâ€™s requests to the same target, preserving session state.

âœ… PREDICTED MCQs (SAA-C03 â€“ HIGH PROBABILITY)
MCQ 1

Which load balancer primarily supports cookie-based sticky sessions?

A. NLB
B. GWLB
C. ALB
D. Route 53

âœ… Answer: C

MCQ 2

Which cookie is generated by an Application Load Balancer for stickiness?

A. JSESSIONID
B. PHPSESSID
C. AWSALB
D. AWSELB

âœ… Answer: C

MCQ 3

What happens if the target referenced in a sticky session cookie becomes unhealthy?

A. Session fails
B. Client is disconnected
C. ALB selects a new target and updates the cookie
D. Cookie is deleted

âœ… Answer: C

MCQ 4

Where is stickiness configured in an ALB?

A. Listener
B. Security group
C. Target group
D. Subnet

âœ… Answer: C

MCQ 5

Which statement about ALB stickiness is TRUE?

A. Supports application-generated cookies
B. Cookie values are readable by users
C. Stickiness duration resets on each request
D. Works only for HTTPS

âœ… Answer: C

MCQ 6

Which cookie is used when SameSite=None is required (CORS)?

A. AWSALB
B. AWSALBCORS
C. AWSSESSION
D. ELBCORS

âœ… Answer: B

MCQ 7

Can sticky sessions be enabled on multiple ALBs in a layered architecture?

A. Yes, unlimited
B. Only with NLB
C. No, only one layer
D. Only with HTTPS

âœ… Answer: C

MCQ 8

Which ALB feature makes WebSocket connections sticky?

A. Cookies
B. Session ID
C. HTTP 101 upgrade behavior
D. Target group rules

âœ… Answer: C

MCQ 9

Which cookie attribute is used by ALB for expiration?

A. Max-Age
B. TTL
C. Expires
D. Lifetime

âœ… Answer: C

MCQ 10

ALB sticky sessions are MOST useful for which application?

A. Static website
B. Video streaming
C. Shopping cart application
D. Log aggregation

âœ… Answer: C
